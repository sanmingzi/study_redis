# 布隆过滤器

用来判断一个元素是否出现过。

- 该元素从未出现过
- 该元素可能出现过（这个判断会有一定的概率出现误判）

## 原理

使用哈希函数计算元素的哈希值，如果这个哈希值从未出现过，则我们可以判断该元素从未出现过；如果这个哈希值出现过，则我们只能判断该元素可能出现过，因为任何哈希函数都无法避免哈希碰撞。

## 简单例子

```
# 三个哈希函数，函数的返回值小于 10000
f(), h(), g()

# 三个对应的大整数，大约为 10000 位
f, h, g

# 对于元素 x，计算其哈希值
hash0 = f(x), hash1 = h(x), hash2 = g(x)

# 如果下面任何一个值为 0，则我们可以判断该元素从未出现过
(f & (1 << hash0))
(h & (1 << hash1))
(g & (1 << hash2))
```

## 场景

- 垃圾邮件过滤

判断某个邮箱地址是否存在于垃圾地址布隆过滤器中。会有一定的误判，会将正常邮件识别为垃圾邮件。

- 恶意 URL 过滤
